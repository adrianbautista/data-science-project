<!DOCTYPE html> <html class=no-js> <head> <meta charset=utf-8> <title>Foursquare Tips + Restaurant Grades</title> <meta name=description content=""> <meta name=viewport content="width=device-width"> <link rel="shortcut icon" href=/6df2b309.favicon.ico> <!-- Place favicon.ico and apple-touch-icon.png in the root directory --> <link rel=stylesheet href=styles/d792d61d.main.css>  <body> <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--> <div class=container> <div class=header> <h3 class=text-muted> Foursquare Tips + Restaurant Grades &nbsp; <small>Data Science Final Project</small> </h3> </div> <div class="jumbotron text-left"> <h1>What if...</h1> <p class=lead>we knew which restaurants needed a health inspection based off of the words used in user reviews?</p> </div> <div class=row> <div class=col-lg-12> <h2>Motivation</h2> <img class=img-responsive src=http://bmj2k.files.wordpress.com/2011/02/ratings1.jpg> <p> Based off of the New York City Department of Health and Mental Hygiene (NYCDOHMH) and its restaurant inspection information, there are roughly 24,000 restaurants in the city. That's a lot of ground to cover if you're a restaurant sanitation inspector. So the purpose of this project is to see if Foursquare tips written by users can help identify and prioritize restaurants for review by the NYCDOHMH. </p> <p> See the full source code and project work <a href=https://github.com/adrianbautista/foursquare-restaurant-grades target=_blank>here</a>. </p> </div> </div> <div class=row> <div class=col-lg-12> <h2>Data Acquisition and Exploration</h2> <p> I acquired the restaurant grade data in CSV form through <a href="https://nycopendata.socrata.com/" target=_blank>NYC Open Data</a>. The CSV contained multiple inspection dates and code violations per restaurant, so the data was reduced to the latest inspection date per restaurant that had a grade value present. This produced a dataset in which each row was a unique restaurant with a letter grade ('A', 'B', 'C', 'Z', 'Pending', 'Not graded'). </p> <p> Using the address and restaruant name from the restaurant grade data, I queried <a href="https://developer.foursquare.com/" target=_blank>Foursquare's API</a>. If valid responses were returned, I then took the first result and queried the API again for detailed venue information. Foursquare rating, user check-in counts, price tier, and user tips were parsed from this API response. The rating, price, and check-in count were joined to the grade dataframe, while tips were stored in separate dataframe. </p> <hr> <p> My initial approach to this project was to see if there was any correlation between a restaurant's grade and its numeric rating on Foursquare. Unpopular restaurants on Foursquare could be the result of poor sanitation habits was one of the original hypotheses. But after doing a rough plot of these two data points and observing basic computed values, such as mean, no immediate correlation was noticeable. </p> <img class=img-responsive src=images/b6763ebb.describe-early.png> <img class=img-responsive src=images/bbada718.scatterplot.png> <hr> <p> This caused the project to instead refocus on the textual tip data provided by Foursquare users. The tip dataframe was joined with the restaurant grade dataframe based on foursquare ID. Then each Foursquare tip in the dataframe was tokenized and broken up into parts of speech using <a href=https://github.com/nltk/nltk target=_blank>NLTK</a>. Adjectives were extracted from these word vectors and transformed into a sparse dummy matrix in which each feature was an adjective. An adjective is only included in the adjective dummy dataframe if it appears in more than 10 tips. </p> </div> </div> <div class=row> <div class=col-lg-12> <h2>Analyses Performed</h2> <p>Check out the regression models in detail <a href=http://nbviewer.ipython.org/github/adrianbautista/foursquare-restaurant-grades/blob/master/restaurant-ratings/foursquare-tip-sentiment-grade.ipynb target=_blank>here</a>. <hr> </p><p>Aside from evaluating the scores produced by different regression models when predicting a restaurant as grade "A" or grade "C", I also mapped out how a naive-bayes multinomial regression scores by NYC zipcode.</p> </div> </div> <div class=row> <div class=col-lg-12> <h2>Conclusions</h2> </div> </div> <div class=row> <div class=col-lg-12> <h2>Next Steps</h2> </div> </div> <div class=row> <div class=col-lg-12> <h2>Resources</h2> <span class=subsection__heading>Data Sources</span> <ul> <li> <a href=https://nycopendata.socrata.com/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/xx67-kt59? target=_blank>NYC OpenData: Restaurant Inspection Results</a> </li> <li> <a href="https://developer.foursquare.com/" target=_blank>Foursquare API</a> </li> <li> <a href=http://data.nycprepared.org/dataset/nyc-zip-code-tabulation-areas target=_blank>NYC Zipcode Tabulation Area</a> </li> </ul> </div> </div> <div class=footer> <p> Adrian Bautista | Fall 2014 <br> Built using <a href="http://yeoman.io/" target=_blank>Yeoman</a>, hosted on Github Pages </p> </div> </div> <script src=scripts/38ef3709.vendor.js></script> <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. --> <script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X');ga('send','pageview');</script> <script src=scripts/b6c3df09.main.js></script>  